global:
  env:
    stage: dev
    host: api.ai-hr-dev.student.k8s.aet.cit.tum.de
    tlsSecret: ai-hr-dev-tls
    corsAllowed: "http://localhost:3000,http://localhost:5173,http://localhost:4200,https://ai-hr-dev.student.k8s.aet.cit.tum.de/api/v1/applications"

frontend:
  ingress:
    enabled: true
    host: ai-hr-dev.student.k8s.aet.cit.tum.de
    tlsSecret: ai-hr-dev-frontend-tls
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-staging

grafana:
  ingress:
    hosts:
      - grafana.ai-hr-dev.student.k8s.aet.cit.tum.de
    tls:
      - secretName: ai-hr-dev-grafana-tls
        hosts:
          - grafana.ai-hr-dev.student.k8s.aet.cit.tum.de

prometheus:
  server:
    ingress:
      enabled: true
      hosts:
        - prometheus.ai-hr-dev.student.k8s.aet.cit.tum.de
      tls:
        - secretName: ai-hr-dev-prometheus-tls
          hosts:
            - prometheus.ai-hr-dev.student.k8s.aet.cit.tum.de
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod

    alertmanagers:
      - kubernetes_sd_configs:
          - role: pod
            namespaces:
              own_namespace: true
        ingress:
          enabled: true
          hosts:
            - host: alertmanager.ai-hr-dev.student.k8s.aet.cit.tum.de
              paths:
                - path: /
                  pathType: ImplementationSpecific
          tls:
            - secretName: ai-hr-dev-alertmanager-tls
              hosts:
                - alertmanager.ai-hr-dev.student.k8s.aet.cit.tum.de
          annotations:
            cert-manager.io/cluster-issuer: letsencrypt-prod
        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
        relabel_configs:
          - source_labels: [ __meta_kubernetes_namespace ]
            regex: ai-hr-dev
            action: keep
          - source_labels: [ __meta_kubernetes_pod_label_app_kubernetes_io_instance ]
            regex: ai-hr-dev
            action: keep
          - source_labels: [ __meta_kubernetes_pod_label_app_kubernetes_io_name ]
            regex: "alertmanager"
            action: keep
          - source_labels: [ __meta_kubernetes_pod_container_port_number ]
            regex: "9093"
            action: keep
        config:
          global:
            resolve_timeout: 5m
          route:
            receiver: discord
          receivers:
            - name: discord
              webhook_configs:
                - url: http://alertmanager-discord:9094
                  send_resolved: true